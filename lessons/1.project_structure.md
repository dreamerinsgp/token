# SPL Token Project Structure Explained

## Overview

This is a complete implementation of the **Solana SPL Token Program**, including the program itself, client libraries, tests, and development tools.

---

## ğŸ¯ Project Overview

This is the **standard Token Program** on the Solana blockchain, used to create and manage fungible tokens (FT) and non-fungible tokens (NFT). Program address: `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`

---

## ğŸ“ Core Directory Structure

### **1. program/** - Main Program (Standard Implementation)
The primary SPL Token implementation, written using the standard Solana SDK:
- `src/lib.rs` - Main entry point, exports all modules
- `src/processor.rs` - Instruction processing logic
- `src/instruction.rs` - Instruction definitions
- `src/state.rs` - Account state definitions (Mint, Account, etc.)
- `src/error.rs` - Error type definitions
- `tests/` - Program unit tests

**Features:** Complete ERC20-style token program supporting minting, transfers, approvals, burning, etc.

---

### **2. pinocchio/** - Optimized Implementation
High-performance version rewritten using the [`pinocchio`](https://github.com/anza-xyz/pinocchio) framework:
- **pinocchio/program/** - Optimized program implementation
- **pinocchio/interface/** - Interface definitions for Pinocchio version

**Advantages:**
- âš¡ Minimal CU (Compute Unit) consumption
- ğŸ¯ 100% compatible with standard SPL Token instruction and account layouts
- ğŸ”§ `no_std` implementation, more lightweight

---

### **3. interface/** - Program Interface Definition
Reusable Rust crate defining core types and interfaces for the Token program:
- `src/instruction.rs` - Instruction enums and serialization
- `src/state.rs` - Mint/Account data structures
- `src/error.rs` - Error definitions
- `src/native_mint.rs` - Native SOL Mint

**Usage:** Third-party programs can import this crate to interact with the Token program

---

### **4. clients/** - Client Libraries
Auto-generated multi-language clients for interacting with the program:

**clients/js/** - JavaScript/TypeScript client
- `src/index.ts` - Main exports
- `src/generated/` - Auto-generated instruction/account types
- `test/` - Client tests
- Helper functions:
  - `src/createMint.ts`
  - `src/mintToATA.ts`
  - `src/transferToATA.ts`

**clients/rust/** - Rust client
- Provides wrappers for Rust applications calling the Token program

---

### **5. scripts/** - Development Scripts
Automation tools written in `zx` (JavaScript):

**Rust related:**
- `scripts/rust/build-sbf.mjs` - Build Solana programs
- `scripts/rust/test.mjs` - Run tests
- `scripts/rust/format.mjs` - Code formatting
- `scripts/rust/lint.mjs` - Code linting

**JavaScript related:**
- `scripts/js/test.mjs`
- `scripts/js/format.mjs`
- `scripts/js/lint.mjs`

**Utility scripts:**
- `scripts/generate-clients.mjs` - Generate client code
- `scripts/start-validator.mjs` - Start local validator
- `scripts/stop-validator.mjs` - Stop validator

---

### **6. lessons/** - Learning Documentation
- `lessons/readme.md` - Course description
- `lessons/errors/` - Error cases and solutions

---

## ğŸ› ï¸ Key Configuration Files

| File | Purpose |
|------|---------|
| `Cargo.toml` | Rust workspace configuration, manages all Rust crates |
| `package.json` | Node.js project config, defines all pnpm scripts |
| `rust-toolchain.toml` | Specifies Rust toolchain version |
| `rustfmt.toml` | Rust code formatting rules |
| `program/idl.json` | Program Interface Description Language (IDL) |

---

## ğŸ”„ Workflow

```bash
# 1. Install dependencies
pnpm install

# 2. Build programs
pnpm programs:build

# 3. Generate clients
pnpm generate:clients

# 4. Start local validator
pnpm validator:start

# 5. Run tests
pnpm programs:test          # Rust program tests
pnpm clients:js:test        # JS client tests
```

---

## ğŸ—ï¸ Architecture Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Solana Blockchain (Program)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  program/          pinocchio/program/   â”‚
â”‚  (Standard)         (Optimized)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   interface/   â”‚  â† Shared type definitions
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚    clients/    â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚  js/   rust/   â”‚  â† Multi-language clients
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   Your dApp    â”‚  â† Your application
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Core Functionality

This Token program supports:
- âœ… Create Mint (token mint account)
- âœ… Create Token Account (token account)
- âœ… Mint To (mint tokens)
- âœ… Transfer
- âœ… Burn
- âœ… Approve/Revoke (delegation)
- âœ… Freeze/Thaw Account
- âœ… Close Account
- âœ… Native SOL Wrapping (Native Mint)

---

This is a **production-grade** Solana program template that demonstrates a complete development, testing, and deployment workflow. 